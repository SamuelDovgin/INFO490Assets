<!DOCTYPE html><html lang='en'><head><title>Color Maps</title><meta charset="utf-8"><style>/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}strong{font-weight:bolder}code{font-family:monospace,monospace;font-size:1em}img{border-style:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}blockquote,h1,h2,p,pre{margin:0}ul{list-style:none;margin:0;padding:0}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e2e8f0}img{border-style:solid}h1,h2{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}code,pre{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}img{display:block;vertical-align:middle}img{max-width:100%;height:auto}.bg-gray-200{--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.bg-gray-300{--bg-opacity:1;background-color:#e2e8f0;background-color:rgba(226,232,240,var(--bg-opacity))}.border-gray-400{--border-opacity:1;border-color:#cbd5e0;border-color:rgba(203,213,224,var(--border-opacity))}.border-gray-500{--border-opacity:1;border-color:#a0aec0;border-color:rgba(160,174,192,var(--border-opacity))}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.border-solid{border-style:solid}.border{border-width:1px}.border-t{border-top-width:1px}.inline-block{display:inline-block}.flex{display:flex}.justify-center{justify-content:center}.justify-around{justify-content:space-around}.float-left{float:left}.font-serif{font-family:Georgia,Cambria,"Times New Roman",Times,serif}.font-semibold{font-weight:600}.font-bold{font-weight:700}.h-64{height:16rem}.text-sm{font-size:.875rem}.text-base{font-size:1rem}.text-xl{font-size:1.25rem}.m-2{margin:.5rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mb-3{margin-bottom:.75rem}.ml-3{margin-left:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.max-w-sm{max-width:24rem}.max-w-2xl{max-width:42rem}.object-contain{-o-object-fit:contain;object-fit:contain}.overflow-hidden{overflow:hidden}.p-1{padding:.25rem}.p-2{padding:.5rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pl-3{padding-left:.75rem}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}.text-center{text-align:center}.text-black{--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity))}.text-gray-700{--text-opacity:1;color:#4a5568;color:rgba(74,85,104,var(--text-opacity))}.text-gray-800{--text-opacity:1;color:#2d3748;color:rgba(45,55,72,var(--text-opacity))}.whitespace-no-wrap{white-space:nowrap}.w-1\/2{width:50%}.w-1\/4{width:25%}.w-full{width:100%}.text-tiny{font-size:.5rem!important}body{color:#000!important;font-size:1.25rem!important}h1,h2{color:#000!important}.lesson{padding-left:10px!important;padding-right:10px!important;--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.lesson-footer{margin-top:50px;margin-top:20px}.lesson ul{list-style:none!important;list-style-position:inside;margin-left:1em}.lesson ul li{padding-left:1em;text-indent:-1em}.lesson ul li::before{content:"‚óè";padding-right:5px}span{white-space:nowrap}p.new{text-indent:1.5em;padding-top:0;padding-bottom:.5em}.h-18rem{height:17rem}h1,h2{font-weight:700;margin-bottom:.25em;font-family:Georgia,Cambria,"Times New Roman",Times,serif!important}h1{margin-top:.5em;font-size:2em!important}h2{margin-top:1em;font-size:1.5em!important}p.new a{text-decoration:underline}.lesson a{text-decoration:underline}blockquote{font-size:1em;background:#f9f9f9;border-left:10px solid #ccc;margin:1.5em 10px;padding:.5em 10px;border-left-color:#ffcd69;border-right-color:#f6ba59;quotes:"\201C""\201D""\2018""\2019"}blockquote:before{color:#ccc;content:open-quote;font-size:4em;line-height:.1em;margin-right:.25em;vertical-align:-.4em}blockquote p{display:inline}img.wrap{margin-right:1rem!important;border:1px solid #021a40}img.small{width:33.333333%;margin-left:1.25rem;border:1px solid #021a40}img.border{border:1px solid #021a40}code{font-size:smaller}pre code{font-size:15px}pre code:not(.line-number){background:#f4f4f4;font-family:monospace;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;touch-action:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;border:1px solid #ddd;color:#666;page-break-inside:avoid;display:block;min-width:740px;max-width:740px;line-height:1.6;margin-bottom:1.6em;padding:1em 1.5em;-moz-tab-size:2;-o-tab-size:2;tab-size:2;overflow-x:auto;word-wrap:break-word;white-space:pre-wrap;border-left:3px solid #f36d33}div.code-starter>pre code{border-left:3px solid #fdff44!important;background-image:radial-gradient(rgba(0,150,0,.75),#000 120%);color:#fff;font:.9rem Inconsolata,monospace}div.code-starter>pre code::after{content:"\a$_"}pre{counter-reset:line}</style><script src="https://kit.fontawesome.com/7efc4bcee2.js" crossOrigin="anonymous"></script></head><body class="lesson"><div class="main-content bg-gray-200 text-black p-1 pl-3 font-serif"><div class="md-inner">
<h1 class="overview"></h1><div class="lesson-overview bg-gray-200 flex justify-center"><div class="displaycard max-w-sm rounded overflow-hidden shadow-lg"><div>¬†</div><img alt="Text" class="object-contain h-64 w-full" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/DataOnTheRun-sm.png"/><div class="px-6 py-4"><div class="text-center font-bold text-xl">Color Maps</div><p class="text-center text-gray-800 text-xl">Color Spectrums</p><div class="text-gray-700 text-base">¬†</div><div class="text-center mb-3"><span class="inline-block bg-gray-300 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#info490</span><span class="inline-block bg-gray-300 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#data</span><span class="inline-block bg-gray-300 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#matplotlib</span></div><div class="flex border-t border-solid border-gray-500 justify-around bg-gray-200"><div class="text-gray-700 text-center px-4 m-2 text-sm"><span class="whitespace-no-wrap">D.MÔπ†üêç</span></div><div class="text-gray-700 text-center px-4 m-2 text-sm"><span class="whitespace-no-wrap"><strong>Version:</strong> <!-- -->8/3/2020</span></div></div><div class="text-gray-700 text-center text-tiny">All Rights Reserved</div></div></div><div class="ml-3 mb-3 h-18rem rounded overflow-hidden shadow-lg"><div class="px-6 py-4"><div class="text-center font-bold text-xl">Colab Notes</div><p class="max-w-sm text-gray-800 text-sm">1. <strong>Copy</strong> this notebook into your google drive</p><p class="max-w-sm text-gray-800 text-sm">2. <strong>Share</strong> the notebook, and copy the share ID</p><p class="max-w-sm text-gray-800 text-sm">3. <strong>Set</strong> the NOTEBOOK_ID variable to the share ID and <strong>SAVE the notebook</strong> (again)</p><p class="max-w-sm text-gray-800 text-sm">4. <strong>Run</strong> the code cell that installs the INFO 490 IDE</p><div class="text-center font-bold text-xl">¬†</div><div class="text-center font-bold text-xl">Jupyter/PyCharm Notes</div><p class="max-w-sm text-gray-800 text-sm">The testing framework does <strong>not work</strong> (at this time) for Jupyter  notebooks or local code development.</p></div></div></div><h1 class="section" id="section1">Color Maps </h1><img alt="USACMap.png" class="float-left w-1/4 mr-2 border" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/USACMap.png"/><p class="new">In the previous lesson on color, you learned different ways to specify colors
in matplotlib.  In those examples, you always determined the color choice. However,
there are many situations where you want your <strong>data</strong> to determine the color choice.</p><p class="new">Color Maps allow you to map a numeric value to a color.<br/>Specifically, it maps a value from 0 to 1 (usually) to an RBGA color.  In
 some situations, you can store your 'image' as a simple matrix of numbers rather 
 than an r,g,b,a specification for each point. Hence, using a colormap can help to decrease 
 the amount of memory/storage. More importantly, colormaps can help to quickly
 communicate the data values;  You can use the values in such a way that allow 
you to 'move' through a color space.</p><h2 id="built-in-colormaps">Built In ColorMaps</h2><p class="new">Matplotlib colormaps are divided into the following categories: sequential, diverging, and qualitative. 
You can view the color schemes of all colormaps in the 
<a href="https://matplotlib.org/examples/color/colormaps_reference.html" target="_blank">documentation</a>.
Below we show just a few samples of the possible category and their
 respective names.  You will use these names (case sensitive) to reference
  the colormap in matplotlib.</p><br/><p class="new"><strong>Perceptually Uniform Sequential</strong>: ['viridis', 'plasma', 'inferno', 'magma']
<img alt="puscmap.png" class="float-clear w-1/2" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/puscmap.png"/></p><br/><p class="new"><strong>Sequential</strong>: ['Greys', 'Purples', 'Blues', 'Greens', 'Oranges', 'Reds', 'YlOrBr', 'YlOrRd', 'OrRd', 'PuRd', 'RdPu', 'BuPu', 'GnBu', 'PuBu', 'YlGnBu', 'PuBuGn', 'BuGn', 'YlGn']
<img alt="scmap.png" class="float-clear w-1/2" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/scmap.png"/></p><br/><p class="new"><strong>Sequential (2)</strong>: ['binary', 'gist_yarg', 'gist_gray', 'gray', 'bone', 'pink', 'spring', 'summer', 'autumn', 'winter', 'cool', 'Wistia', 'hot', 'afmhot', 'gist_heat', 'copper']
<img alt="sc2map.png" class="float-clear w-1/2" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/sc2map.png"/></p><br/><p class="new"><strong>Diverging</strong>: ['PiYG', 'PRGn', 'BrBG', 'PuOr', 'RdGy', 'RdBu', 'RdYlBu', 'RdYlGn', 'Spectral', 'coolwarm', 'bwr', 'seismic']
<img alt="dcmap.png" class="float-clear w-1/2" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/dcmap.png"/></p><br/><p class="new"><strong>Qualitative</strong>: ['Pastel1', 'Pastel2', 'Paired', 'Accent', 'Dark2', 'Set1', 'Set2', 'Set3', 'tab10', 'tab20', 'tab20b', 'tab20c']
<img alt="qcmap.png" class="float-clear w-1/2" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/qcmap.png"/></p><br/><p class="new"><strong>Miscellaneous</strong>: ['flag', 'prism', 'ocean', 'gist_earth', 'terrain', 'gist_stern', 'gnuplot', 'gnuplot2', 'CMRmap', 'cubehelix', 'brg', 'hsv', 'gist_rainbow', 'rainbow', 'jet', 'nipy_spectral', 'gist_ncar']</p><h2 id="exercise-1">Exercise 1</h2><p class="new">Color Maps are used heavily in viewing image data or to easily convey how the
 data is distributed across a dimension. For example, the diviging colormaps, 
 places white in the middle and allow you to see how values are spread between 
 positive and negative values.</p><p class="new">In the example below see how 'seismic' a diverging colormap is different from
 the green sequential colormap. Run the code below to see the result. Then 
 change the colormap to be the green sequential colormap.  Leave the function
  <code>cmap_ex1</code> return the figure with the sequentail colormap.</p><p class="new">Note that the currently available colormap names listed above are case sensitive.</p><div class="ide code-starter blink"><pre><code>import matplotlib
import matplotlib.pyplot as plt
from matplotlib import cm
from LessonUtil import RandomData

def cmap_ex1(data):
  fig, axes = plt.subplots()
  cmap= cm.get_cmap('seismic')
  axes.scatter(data.n, data.n, s=50, c=data.n, cmap=cmap)
  return fig
  
data = RandomData(200)
fig = cmap_ex1(data)</code></pre></div><p class="new">Notes:</p><p class="new">‚Ä¢ The <code>c</code> parameter (which we used in the previous lesson to indicate the color) 
is used to index into the colormap.  </p><p class="new">‚Ä¢ Matplotlib will normalize the data (<code>data.n</code>) as well.   You can also pass in a
 normalization function if you need to map your data differently.</p><h1 class="section" id="section2">ColorMaps and Image Data</h1><p class="new">Image data is just a 2D matrix of color values.  You can think of each value
 as a pixel. The physical size of a pixel depends on the device/screen -- it is essentally
 the smallest dot that can be turned on/off with a given color.  How pixels are
physially constructed (individaul 'subpixel' elements of R,G,B etc ) is well 
beyond what we need to know for this class.</p><p class="new">You can think of image data (regardless of it's format -- jpep, png, gif, mp4 frame) as
simply a two dimensional grid of color values.  These values can be integers/floats 
that are used to index into a colormap (e.g the value '0' could be 'black ', 
'1' as 'white') or values that include the complete r,g,b,a specification 
(e .g. (255, 127, 84, 255)).</p><p class="new">If you have 100x100 grid of color values (i.e. pixels), you can decide how to 
render that grid.  For example, each pixel value could be rendered 
to a single device pixel (a dot on your screen) or rendred having both a
 width and height.</p><h2 id="imshow-for-images"><code>imshow</code> for images</h2><p class="new">Matplotlib's <code>imshow</code> is the workhorse for displaying image data.  It is
 extreamly flexible and allows you to plot/show various types of image/matrix
 data.</p><p class="new">For example, to display an image file you can do the following:</p><div class="ide code-starter blink"><pre><code>from matplotlib.cbook import get_sample_data

def show_image():
  fo = get_sample_data('grace_hopper.png')
  data = plt.imread(fo)
  
  fig, ax = plt.subplots()
  im = ax.imshow(data)

show_image()</code></pre></div><p class="new">A few notes:</p><ul><li><code>get_sample_data</code> returns a file object from which data can be read</li><li><code>plt.imread</code> can be used to read an image file</li><li><code>imshow</code> displays the data</li></ul><br/><p class="new">Another interesting note is that (0,0) is the upper left corner.</p><h2 id="exercise-2">Exercise 2</h2><p class="new">Add the following code to <code>show_image</code> to demonstrate using the
pixel data directly. </p><pre><code>  ny, nx, nbands = data.shape
  print(data.shape)
  pmid = data[250][250]  # somewhere on the face
  pmid = data[599][300]  # blue shirt
  pmid = data[350][125]  # red of flag
  print(pmid)
  # let's draw the patch
  ax.scatter(400, 100, color=pmid, s=350)</code></pre><h2 id="imshow-for-plots"><code>imshow</code> for plots</h2><p class="new">The <code>imshow</code> function can be used with a colormap to build heatmaps and
 contour maps.  In the next example, </p><div class="ide code-starter blink"><pre><code>from matplotlib.ticker import MaxNLocator

def cmap_ex2():
  N = 8
  rdata = RandomData(N*N)
  square = np.array(rdata.x).reshape(N,N)
  fig, ax = plt.subplots()

  im = ax.imshow(square, cmap='gist_earth')
  ax.xaxis.set_major_locator(MaxNLocator(integer=True))  # Set major locators to integer values
  return fig
fig = cmap_ex2()</code></pre></div><p class="new">Note that the size of each 'pixel' is determined by the size of the figure
 and the amount of data that's needed to display.  You can see this by
 adjusting the varable <code>N</code> in the above example.</p><p class="new">You can move the origin as well:</p><pre><code>  im = ax.imshow(square, cmap='gist_earth', origin='lower')</code></pre><h2 id="contour-maps">Contour Maps</h2><img alt="bivariate.png" class="small float-left mr-3" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/bivariate.png"/><p class="new">We are going to use a sample data set that represents a simple 15x15 matrix
of bivarate normal data.  It's essentially the same values as <code>RandomData</code>, but
not 'random'.  The ‚Äúregular‚Äù normal distribution has one random variable; 
A bivariate normal distribution is made up of two independent random variables. 
The two variables in a bivariate normal are both are normally distributed, and 
they have a normal distribution when both are added together. 
Visually, the bivariate normal distribution is a three-dimensional bell curve.</p><div class="ide code-starter blink"><pre><code>from matplotlib.cbook import get_sample_data
io = get_sample_data('axes_grid/bivariate_normal.npy') # 3.3 , np_load=True)
data = np.load(io.name)

def cmap_ex3(data):
  fig, ax = plt.subplots()
  im = ax.imshow(data, cmap='gist_earth')  
  return fig

fig = cmap_ex3(data)</code></pre></div><p class="new">You can add a colorbar simply by adding this line:
<code>fig.colorbar(im)</code></p><p class="new">The next example, uses the seismic colormap, which puts 0 (white) at the center.
We also set <code>vmin</code> and <code>vmax</code>, to ensure we clamp the data extremes.</p><div class="ide code-starter blink"><pre><code>def cmap_ex4(data):
  fig, ax = plt.subplots()
  im = ax.imshow(data, cmap='seismic', vmin=-2, vmax=2) 
  fig.colorbar(im) 
  return fig
  
fig = cmap_ex4(data)</code></pre></div><p class="new">You will want to consult the <a href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.imshow.html" target="_blank">imshow</a> documentation </p><h2 id="colormaps-are-dangerous-">ColorMaps are Dangerous ‚ò†Ô∏è</h2><p class="new">The selection of a colormap is an important consideration.  A poor selection can result in 
a improper understanding or misinterpretation of the data. 
You should <a href="https://www.eecs.harvard.edu/~kgajos/papers/2011/borkin11-infoviz.pdf" target="_blank">read</a>
how the once default 'jet' colormap lead to more diagonistic errors.</p><p class="new">The <a href="https://brushingupscience.com/2015/12/15/stop-using-rainbow-colourmaps/" target="_blank">rainbow</a>
colormap has also been widely critized as a poor colormap as well.</p><p class="new">When deciding which colormap to use will not only depend on what you are
 trying to communiciate, but also what the data represents.  Always consult
 a good <a href="https://www.kennethmoreland.com/color-advice/" target="_blank">resource</a> for more
 information on color map selection.
</p><h1 class="section" id="section3">ColorMaps and Categorical Data</h1><img alt="cat.png" class="wrap float-left" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/cat.png"/><p class="new">When a dataset contains categorical or ordinal attributes (gender, favorite food, pet type, happiness)
you will need to map these words/tokens to a number so it can be used with a
 colormap.</p><p class="new">One of the easiest ways is to create a dictionary of all the possible values
 and then map each to an integer.  This works well if the data is very clean
 (all the categories are normalized or the values come from a selection and
 not a text field or user input).  Also, if the data is ordinal, it's
 important that the categories and resulting integers are ordered properly.
<br/>For example, the <code>pet</code> atttribute is categorical data.  We can convert it
easily:</p><pre><code>import pandas as pd

data = RandomPetData(100)
df = pd.DataFrame({'pet': data.pet, 'x': data.x, 'y': data.y})
names = df.pet.unique().tolist()
print(names)

df['pet_idx'] = df['pet'].apply(lambda col: names.index(col))
print(df.groupby('pet_idx')['pet_idx'].count())</code></pre><p class="new">You can simplify this even more by using the 'category' type (if you are using pandas):</p><pre><code>df = pd.DataFrame({'pet': data.pet, 'x': data.x, 'y': data.y})
df['pet_idx'] = df.pet.astype("category").cat.codes
print(df.groupby('pet_idx')['pet_idx'].count())</code></pre><p class="new">Once you have this mapping, it's easy to then bring in color map.  Matplotlib
 has qualitative colormaps but you can also create your own:</p><pre><code>colors = [ (1.0, 1.0, 0), '#33FF66', (0.25, 0.25, 0.25), 'blue', ]
cmap = matplotlib.colors.ListedColormap(colors)</code></pre><p class="new">Each element in the colors array will correspond to a category (in the <code>names</code> list).
There are many ways to <a href="https://matplotlib.org/3.1.1/tutorials/colors/colormap-manipulation.html" target="_blank">create a colormap</a> in matplotlib.
The above example shows a quick way to map a small set of categories to
 speific colors.  Note that you can use various formats for representing the colors.</p><p class="new">Now you can use this colormap in a simple scatterplot.</p><h2 id="exercise-3">Exercise 3</h2><p class="new">Bring in the necessary code such that a call make_scatter will create a figure
that looks like the following:
<img alt="scatter1.png" class="small" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/scatter1.png"/></p><div class="ide code-starter blink"><pre><code>def make_scatter(n=100):
  # create data (RandomData)
  
  fig, axes = plt.subplots()
  paths = axes.scatter(df.x, df.y, c=df.pet_idx, s=50, cmap=cmap, edgecolor='black')
  h,values = paths.legend_elements()
  axes.legend(handles=h, labels=names)
  return fig</code></pre></div><h1 class="section" id="section4">Color Palette</h1><p class="new">A good color palette (a selection of colors that work well together) can add the 
professional touch to any graphic.  There are many sources for helping put
 together colors for different types of projects.  A good reference to color
 pallets can be found <a href="https://www.smashingmagazine.com/2010/02/color-theory-for-designer-part-3-creating-your-own-color-palettes/" target="_blank">here</a>.</p><p class="new"><a href="https://colorbrewer2.org/" target="_blank">ColorBrewer</a> is a great tool to help find colors that work well together for categorical data.  Sometimes 
you can use an image to grab the dominent colors to put a pallette together
 around a theme. Both <a href="https://www.canva.com/colors/color-palette-generator/" target="_blank">Canva</a> 
and <a href="https://lokeshdhakar.com/projects/color-thief/" target="_blank">Color Theif</a> are good tools.</p><h1 class="section" id="section5">Lesson Assignment</h1><p class="new">Be sure you have run all the example code and understand what's being demonstrated. 
You will use a colormap to build a simple bar chart for the categorical data we used to demonstrate
 scatter plots. 
When you are done, your graph should look like the following:
<img alt="histogram.png" class="small mt-4" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/histogram.png"/></p><h2 id="part-1-data-grouping">Part 1 Data Grouping</h2><p class="new">Create the following function <code>build_dataframe</code> that groups the data (by 'pet'), 
sorts it into descending groups (by count).  </p><pre><code>def build_dataframe(data):
  return df</code></pre><p class="new">After you're done, you should get the following output:</p><pre><code>df = build_dataframe(RandomPetData(100))
print(df.head())

    pet   x   y  pet_idx
0   dog  31  31       31
1   n/a  31  31       31
2   cat  24  24       24
3  fish  14  14       14</code></pre><p class="new">Note that <code>df.index</code> can be used to refer to the 'row' number</p><p class="new">Notes/Hints:</p><ul><li>Calling <code>reset_index()</code> gets the grouped data back into a standard dataframe</li></ul><div class="ide code-starter blink"><pre><code>def build_dataframe(data):</code></pre></div><h2 id="part-2-color-selection-">Part 2 Color Selection </h2><p class="new">Create a custom colormap using colorbrewer.  Be sure to select the
 qualitative color scheme and use the 4-class Accent colors:</p><img alt="hex.png" class="float-left img" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/hex.png"/><img alt="rgb.png" class="img" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/rgb.png"/><p class="new">The function <code>build_colormap</code> returns a matplotlib <code>ListedColormap</code></p><div class="ide code-starter blink"><pre><code>def build_colormap():
  return</code></pre></div><h2 id="part-3-bar-chart-using-colormap-">Part 3: Bar Chart using colormap </h2><p class="new">There are many ways to do this.  The ONLY way you <strong>cannot</strong> do this is to use the 
pandas plot function: <code>axes = df.plot.scatter(x='x', y='y', c='pet_idx', colormap=cmap)</code></p><blockquote><p class="new"><em><strong>Coder's Log:</strong></em>
There's certainly not an issue with using Pandas to create plots, in fact, it provides 
a quick way to do data exploration.  The big issue is that the Pandas plotting 
API (how you create graphs) is just a thin layer on top of matplotlib; you 
lose the ability to do a lot of customization to the underlying visualization.  In 
almost all situations, you end up needing to do more.
However, once you know matplotlib, learning to use Panda's plotting api is easy.</p></blockquote><p class="new">Create a function named <code>build_barchart</code> that creates the following graph:
<img alt="barNoLegend.png" class="img" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/barNoLegend.png"/></p><p class="new">Notes:</p><ul><li>use <code>set_xticks</code> and <code>set_xticklabels</code> for the x axis</li><li>be sure to return the figure</li></ul><div class="ide code-starter blink"><pre><code>def build_barchart(df, cmap):
  pass</code></pre></div><br/><p class="new">Once that is done, you can test it via</p><pre><code>df = build_dataframe(RandomData(100))
cmap = build_colormap() 
fig = build_barchart(df, cmap)</code></pre><h1>Test and Submit</h1><p>Once done you can download your code (via <code>ide.tester</code>) and upload that file to Gradescope:</p><div class=""><pre><code><strong># to test your code (either works)</strong><br/>print(ide.tester.test_notebook())<br/>print(ide.tester.test_notebook(verbose=True))<br/><strong># to prepare and download your code</strong><br/>ide.tester.download_solution()</code></pre></div><div class="lesson-footer flex bg-gray-200 justify-center"><div class="displaycard border-t border-gray-400 max-w-2xl rounded overflow-hidden shadow-lg"><div class="px-6 py-4"><div class="text-center font-bold text-xl">Color Maps</div><p class="text-center text-gray-800 text-xl">Color Spectrums</p><div class="text-center mt-6 text-xl"><i aria-hidden="true" class="fas fa-tags"></i> any questions on Piazza with <span class="font-bold">cmaps</span></div><div class="text-gray-700 text-base">¬†</div><div class="text-gray-700 text-base">References and Additional Readings</div><div class="text-sm p-2 border border-solid border-gray-500 bg-gray-300"> <div class="text-gray-700 px-4 m-2">‚Ä¢ https://matplotlib.org/3.1.0/gallery/index.html</div><div class="text-gray-700 px-4 m-2">‚Ä¢ https://blogs.egu.eu/divisions/gd/2017/08/23/the-rainbow-colour-map</div></div><div class="flex mt-4 border-t border-solid border-gray-500 justify-around bg-gray-200"><div class="text-gray-700 text-center px-4 m-2 text-sm">D.MÔπ†üêç</div><div class="text-gray-700 text-center px-4 m-2 text-sm"><strong>Version:</strong> <!-- -->8/3/2020, 1:15:52 PM</div></div><div class="text-gray-700 text-center text-tiny">All Rights Reserved</div><div class="text-gray-700 text-center text-tiny">Do not distribute this notebook outside of the class</div></div></div></div><div>¬†</div><div class="ide code-starter blink"><pre><code># print(ide.tester.test_notebook()) 
# print(ide.tester.test_notebook(verbose=True)) 

ide.tester.download_solution()</code></pre></div></div></div></body></html>