<!DOCTYPE html><html lang='en'><head><title>Color Maps</title><meta charset="utf-8"><style>/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}strong{font-weight:bolder}code{font-family:monospace,monospace;font-size:1em}img{border-style:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}blockquote,h1,h2,p,pre{margin:0}ul{list-style:none;margin:0;padding:0}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e2e8f0}img{border-style:solid}h1,h2{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}code,pre{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}img{display:block;vertical-align:middle}img{max-width:100%;height:auto}.bg-gray-200{--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.bg-gray-300{--bg-opacity:1;background-color:#e2e8f0;background-color:rgba(226,232,240,var(--bg-opacity))}.border-gray-400{--border-opacity:1;border-color:#cbd5e0;border-color:rgba(203,213,224,var(--border-opacity))}.border-gray-500{--border-opacity:1;border-color:#a0aec0;border-color:rgba(160,174,192,var(--border-opacity))}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.border-solid{border-style:solid}.border{border-width:1px}.border-t{border-top-width:1px}.inline-block{display:inline-block}.flex{display:flex}.justify-center{justify-content:center}.justify-around{justify-content:space-around}.float-left{float:left}.font-serif{font-family:Georgia,Cambria,"Times New Roman",Times,serif}.font-semibold{font-weight:600}.font-bold{font-weight:700}.h-64{height:16rem}.text-sm{font-size:.875rem}.text-base{font-size:1rem}.text-xl{font-size:1.25rem}.m-2{margin:.5rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mb-3{margin-bottom:.75rem}.ml-3{margin-left:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.max-w-sm{max-width:24rem}.max-w-2xl{max-width:42rem}.object-contain{-o-object-fit:contain;object-fit:contain}.overflow-hidden{overflow:hidden}.p-1{padding:.25rem}.p-2{padding:.5rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pl-3{padding-left:.75rem}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}.text-center{text-align:center}.text-black{--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity))}.text-gray-700{--text-opacity:1;color:#4a5568;color:rgba(74,85,104,var(--text-opacity))}.text-gray-800{--text-opacity:1;color:#2d3748;color:rgba(45,55,72,var(--text-opacity))}.whitespace-no-wrap{white-space:nowrap}.w-1\/2{width:50%}.w-1\/4{width:25%}.w-full{width:100%}.text-tiny{font-size:.5rem!important}body{color:#000!important;font-size:1.25rem!important}h1,h2{color:#000!important}.lesson{padding-left:10px!important;padding-right:10px!important;--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.lesson-footer{margin-top:50px;margin-top:20px}.lesson ul{list-style:none!important;list-style-position:inside;margin-left:1em}.lesson ul li{padding-left:1em;text-indent:-1em}.lesson ul li::before{content:"â—";padding-right:5px}span{white-space:nowrap}p.new{text-indent:1.5em;padding-top:0;padding-bottom:.5em}.h-18rem{height:17rem}h1,h2{font-weight:700;margin-bottom:.25em;font-family:Georgia,Cambria,"Times New Roman",Times,serif!important}h1{margin-top:.5em;font-size:2em!important}h2{margin-top:1em;font-size:1.5em!important}p.new a{text-decoration:underline}.lesson a{text-decoration:underline}blockquote{font-size:1em;background:#f9f9f9;border-left:10px solid #ccc;margin:1.5em 10px;padding:.5em 10px;border-left-color:#ffcd69;border-right-color:#f6ba59;quotes:"\201C""\201D""\2018""\2019"}blockquote:before{color:#ccc;content:open-quote;font-size:4em;line-height:.1em;margin-right:.25em;vertical-align:-.4em}blockquote p{display:inline}img.wrap{margin-right:1rem!important;border:1px solid #021a40}img.small{width:33.333333%;margin-left:1.25rem;border:1px solid #021a40}img.border{border:1px solid #021a40}code{font-size:smaller}pre code{font-size:15px}pre code:not(.line-number){background:#f4f4f4;font-family:monospace;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;touch-action:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;border:1px solid #ddd;color:#666;page-break-inside:avoid;display:block;min-width:740px;max-width:740px;line-height:1.6;margin-bottom:1.6em;padding:1em 1.5em;-moz-tab-size:2;-o-tab-size:2;tab-size:2;overflow-x:auto;word-wrap:break-word;white-space:pre-wrap;border-left:3px solid #f36d33}div.code-starter>pre code{border-left:3px solid #fdff44!important;background-image:radial-gradient(rgba(0,150,0,.75),#000 120%);color:#fff;font:.9rem Inconsolata,monospace}div.code-starter>pre code::after{content:"\a$_"}pre{counter-reset:line}</style><script src="https://kit.fontawesome.com/7efc4bcee2.js" crossOrigin="anonymous"></script></head><body class="lesson"><div class="main-content bg-gray-200 text-black p-1 pl-3 font-serif"><div class="md-inner">
<h1 class="section" id="section3">ColorMaps and Categorical Data</h1><img alt="cat.png" class="wrap float-left" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/cat.png"/><p class="new">When a dataset contains categorical or ordinal attributes (gender, favorite food, pet type, happiness)
you will need to map these words/tokens to a number so it can be used with a
 colormap.</p><p class="new">One of the easiest ways is to create a dictionary of all the possible values
 and then map each to an integer.  This works well if the data is very clean
 (all the categories are normalized or the values come from a selection and
 not a text field or user input).  Also, if the data is ordinal, it's
 important that the categories and resulting integers are ordered properly.
<br/>For example, the <code>pet</code> atttribute is categorical data.  We can convert it
easily:</p><pre><code>import pandas as pd

data = RandomPetData(100)
df = pd.DataFrame({'pet': data.pet, 'x': data.x, 'y': data.y})
names = df.pet.unique().tolist()
print(names)

df['pet_idx'] = df['pet'].apply(lambda col: names.index(col))
print(df.groupby('pet_idx')['pet_idx'].count())</code></pre><p class="new">You can simplify this even more by using the 'category' type (if you are using pandas):</p><pre><code>df = pd.DataFrame({'pet': data.pet, 'x': data.x, 'y': data.y})
df['pet_idx'] = df.pet.astype("category").cat.codes
print(df.groupby('pet_idx')['pet_idx'].count())</code></pre><p class="new">Once you have this mapping, it's easy to then bring in color map.  Matplotlib
 has qualitative colormaps but you can also create your own:</p><pre><code>colors = [ (1.0, 1.0, 0), '#33FF66', (0.25, 0.25, 0.25), 'blue', ]
cmap = matplotlib.colors.ListedColormap(colors)</code></pre><p class="new">Each element in the colors array will correspond to a category (in the <code>names</code> list).
There are many ways to <a href="https://matplotlib.org/3.1.1/tutorials/colors/colormap-manipulation.html" target="_blank">create a colormap</a> in matplotlib.
The above example shows a quick way to map a small set of categories to
 speific colors.  Note that you can use various formats for representing the colors.</p><p class="new">Now you can use this colormap in a simple scatterplot.</p><h2 id="exercise-3">Exercise 3</h2><p class="new">Bring in the necessary code such that a call make_scatter will create a figure
that looks like the following:
<img alt="scatter1.png" class="small" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/cmaps/html/scatter1.png"/></p></div></div></body></html>