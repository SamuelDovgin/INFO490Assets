<!DOCTYPE html><html lang='en'><head><title>Color</title><meta charset="utf-8"><style>/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}strong{font-weight:bolder}code{font-family:monospace,monospace;font-size:1em}img{border-style:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}blockquote,h1,h2,h3,h4,p,pre{margin:0}ol,ul{list-style:none;margin:0;padding:0}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e2e8f0}img{border-style:solid}h1,h2,h3,h4{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}code,pre{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}img{display:block;vertical-align:middle}img{max-width:100%;height:auto}.bg-gray-200{--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.bg-gray-300{--bg-opacity:1;background-color:#e2e8f0;background-color:rgba(226,232,240,var(--bg-opacity))}.border-gray-400{--border-opacity:1;border-color:#cbd5e0;border-color:rgba(203,213,224,var(--border-opacity))}.border-gray-500{--border-opacity:1;border-color:#a0aec0;border-color:rgba(160,174,192,var(--border-opacity))}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.border-solid{border-style:solid}.border{border-width:1px}.border-t{border-top-width:1px}.inline-block{display:inline-block}.flex{display:flex}.justify-center{justify-content:center}.justify-around{justify-content:space-around}.float-right{float:right}.float-left{float:left}.font-serif{font-family:Georgia,Cambria,"Times New Roman",Times,serif}.font-semibold{font-weight:600}.font-bold{font-weight:700}.h-64{height:16rem}.text-sm{font-size:.875rem}.text-base{font-size:1rem}.text-xl{font-size:1.25rem}.m-2{margin:.5rem}.mr-2{margin-right:.5rem}.mb-2{margin-bottom:.5rem}.mr-3{margin-right:.75rem}.mb-3{margin-bottom:.75rem}.ml-3{margin-left:.75rem}.mt-4{margin-top:1rem}.mr-4{margin-right:1rem}.mt-6{margin-top:1.5rem}.max-w-sm{max-width:24rem}.max-w-2xl{max-width:42rem}.object-contain{-o-object-fit:contain;object-fit:contain}.overflow-hidden{overflow:hidden}.p-1{padding:.25rem}.p-2{padding:.5rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pl-3{padding-left:.75rem}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)}.text-center{text-align:center}.text-black{--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity))}.text-gray-700{--text-opacity:1;color:#4a5568;color:rgba(74,85,104,var(--text-opacity))}.text-gray-800{--text-opacity:1;color:#2d3748;color:rgba(45,55,72,var(--text-opacity))}.whitespace-no-wrap{white-space:nowrap}.w-1\/2{width:50%}.w-1\/3{width:33.333333%}.w-1\/4{width:25%}.w-3\/4{width:75%}.w-full{width:100%}.text-tiny{font-size:.5rem!important}body{color:#000!important}h1,h2,h3,h4{color:#000!important}.lesson{padding-left:10px;padding-right:10px;--bg-opacity:1;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity))}.lesson-footer{margin-top:50px;margin-top:20px}.lesson ol{list-style:decimal;list-style-position:inside;margin-left:1em}.lesson ul{list-style:none!important;list-style-position:inside;margin-left:1em}.lesson ul li{padding-left:1em;text-indent:-1em}.lesson ul li::before{content:"‚óè";padding-right:5px}span{white-space:nowrap}p.new{text-indent:1.5em;padding-top:0;padding-bottom:.5em}.h-18rem{height:17rem}h1,h2,h3,h4{font-weight:700;margin-bottom:.25em;font-family:Georgia,Cambria,"Times New Roman",Times,serif!important}h1{margin-top:.5em;font-size:2em!important}h2{margin-top:1em;font-size:1.5em!important}h3{margin-top:.5em;font-size:1.25em!important}h4{margin-top:.25em;font-size:1em!important}p.new a{text-decoration:underline}.lesson a{text-decoration:underline}blockquote{font-size:1em;background:#f9f9f9;border-left:10px solid #ccc;margin:1.5em 10px;padding:.5em 10px;border-left-color:#ffcd69;border-right-color:#f6ba59;quotes:"\201C""\201D""\2018""\2019"}blockquote:before{color:#ccc;content:open-quote;font-size:4em;line-height:.1em;margin-right:.25em;vertical-align:-.4em}blockquote p{display:inline}br.single{margin-top:10px;margin-bottom:10px;display:block;content:" ";line-height:22px}img.med{width:66.666667%;margin-left:1.25rem;border:1px solid #021a40}img.small{width:33.333333%;margin-left:1.25rem;border:1px solid #021a40}img.border{border:1px solid #021a40}img:not([class]){width:66.666667%;margin-left:1.25rem;border:1px solid #021a40}code{font-size:smaller}pre code{font-size:15px}.code-small-nb{font-family:monospace;font-size:15px}pre code:not(.line-number){background:#f4f4f4;font-family:monospace;font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;touch-action:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;border:1px solid #ddd;color:#666;page-break-inside:avoid;display:block;min-width:740px;max-width:740px;line-height:1.6;margin-bottom:1.6em;padding:1em 1.5em;-moz-tab-size:2;-o-tab-size:2;tab-size:2;overflow-x:auto;word-wrap:break-word;white-space:pre-wrap;border-left:3px solid #f36d33}div.code-starter>pre code{border-left:3px solid #fdff44!important;background-image:radial-gradient(rgba(0,150,0,.75),#000 120%);color:#fff;font:.9rem Inconsolata,monospace}div.code-starter>pre code::after{content:"\a$_"}pre{counter-reset:line}</style><script src="https://kit.fontawesome.com/7efc4bcee2.js" crossOrigin="anonymous"></script></head><body class="lesson"><div class="main-content bg-gray-200 text-black p-1 pl-3 text-xl font-serif"><div class="md-inner">
<h1 class="overview"></h1><div class="lesson-overview bg-gray-200 flex justify-center"><div class="displaycard max-w-sm rounded overflow-hidden shadow-lg"><div>¬†</div><img alt="Text" class="object-contain h-64 w-full" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/color/html/DataOnTheRun-sm.png"/><div class="px-6 py-4"><div class="text-center font-bold text-xl">Color</div><p class="text-center text-gray-800 text-xl">In Living Color</p><div class="text-gray-700 text-base">¬†</div><div class="text-center mb-3"><span class="inline-block bg-gray-300 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#info490</span><span class="inline-block bg-gray-300 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#data</span><span class="inline-block bg-gray-300 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#matplotlib</span></div><div class="flex border-t border-solid border-gray-500 justify-around bg-gray-200"><div class="text-gray-700 text-center px-4 m-2 text-sm"><span class="whitespace-no-wrap">D.MÔπ†üêç</span></div><div class="text-gray-700 text-center px-4 m-2 text-sm"><span class="whitespace-no-wrap"><strong>Version:</strong> <!-- -->Fall 2020<!-- --> <!-- -->08.20.20</span></div></div><div class="text-gray-700 text-center text-tiny">All Rights Reserved</div></div></div><div class="ml-3 mb-3 h-18rem rounded overflow-hidden shadow-lg"><div class="px-6 py-4"><div class="text-center font-bold text-xl">Colab Notes</div><p class="max-w-sm text-gray-800 text-sm">1. <strong>Copy</strong> this notebook into your google drive</p><p class="max-w-sm text-gray-800 text-sm">2. <strong>Share</strong> the notebook, and copy the share ID</p><p class="max-w-sm text-gray-800 text-sm">3. <strong>Set</strong> the NOTEBOOK_ID variable to the share ID and <strong>SAVE the notebook</strong> (again)</p><p class="max-w-sm text-gray-800 text-sm">4. <strong>Run</strong> the code cell that installs the INFO 490 IDE</p><div class="text-center font-bold text-xl">¬†</div><div class="text-center font-bold text-xl">Jupyter/PyCharm Notes</div><p class="max-w-sm text-gray-800 text-sm">The testing framework does <strong>not work</strong> (at this time) for Jupyter  notebooks or local code development.</p></div></div></div><h1 class="section" id="section1">Color </h1><img alt="color.png" class="border" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/color/html/color.png"/><br/><p class="new">Using color in data visualizations is one the most powerful techniques to make your data, 
information, and insights accessible.  Proper use of color can move a visualization from 
illegible to insightful.</p><p class="new">This lesson builds upon our previous exposure to matplotlib and shows how to
add color to your matplotlib charts and data visualizations.  We will
discuss many aspects of using colors and offer a few words on using markers and
line styles as well.  This lesson is filled with many examples to run and a
 few small exercises interspersed.  </p><h2 id="matplotlib-refresher">Matplotlib Refresher</h2><p class="new">Although this lesson builds on the previous matplotlib lessons from INFO 490, since 
it may have been a while since you used matplotlib, we'll go over a few points to remember.</p><h3 id="interactive-mode">Interactive Mode</h3><p class="new">Unlike using matplotlib in replit or in a standalone python program, matplotlib
in jupyter/colab notebooks is automatically in 'interactive' mode.  That
 means you never need to call <code>figure.show()</code> to make the figure appear.</p><div class="ide code-starter blink"><pre><code>import matplotlib
import matplotlib.pyplot as plt

def make_plot():
  fig, axes = plt.subplots()
  axes.scatter([0,1,2,3], [0,1,2,3])
make_plot()</code></pre></div><span>Remember, <code>plt.subplots()</code> is shorthand for</span><pre><code>fig = plt.figure()
axes = fig.subplots()</code></pre><span>Notes:</span><p class="new">‚Ä¢ The <strong>ONLY</strong> place in your code where <code>plt</code> (i.e. <code>pyplot</code>) is used is for 
creating a figure. We are only going to use the object oriented API (OO for short) for matplotlib. </p><p class="new">‚Ä¢ <code>fig.show()</code> is not needed; However, it is necessary if you run this code in 
a non-interactive environment.</p><p class="new">‚Ä¢ You can use <code>fig.savefig('myplot.png)</code> to save the figure.</p><p class="new">‚Ä¢ A good refresher of both matplotlib and the object oriented interface is 
available <a href="https://medium.com/@kapil.mathur1987/matplotlib-an-introduction-to-its-object-oriented-interface-a318b1530aed" target="_blank">here</a></p><h2 id="exercise-1">Exercise 1</h2><p class="new">Modify <code>make_plot</code> to save the plot to the file named 'first.png'.  </p><p class="new">Once you call <code>make_plot</code> confirm it's location in the colab notebook
 environment (i.e. make sure it exists by using the file icon).  This will be
useful in future lessons as well.</p><p class="new">You can test <code>make_plot</code> using the <code>ide.tester</code> object:</p><pre><code>ide.tester.test_function(make_plot)</code></pre><h2 id="matplotlib-colors">Matplotlib colors</h2><p class="new">There's a bewildering amount of choices on how to add color to a 
matplotlib chart.  If you don't specify any colors, there is always a default
color or set of colors that will be used.</p><p class="new">Many of the different plot types have the same API (the 'interface' to
 objects, functions, and types) or same parameters to affect the the fill/face 
color and the outline/edge color.  </p><h3 id="simple-colors">Simple Colors</h3><img alt="defaultColors.png" class="float-left mr-4 w-1/4" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/color/html/defaultColors.png"/><p class="new">Matplotlib has 8 'classic' colors.  These colors (and only these colors) 
can be referenced using single letter abbreviations: </p><pre class="code-small-nb">b: blue 
g: green 
r: red 
c: cyan 
m: magenta 
y: yellow 
k: black 
w: white
</pre><p class="new">You can use <code>None</code> to specify 'no color' as well. </p><br/><p class="new">The following example shows a simple use of these colors. Run it to create a 
simple scatter plot (note that <code>RandomData</code> is simply a 2D array of normally 
distributed random data points (<code>data.x</code>, <code>data.y</code>)). </p><div class="ide code-starter blink"><pre><code>import LessonUtil as Util
data = Util.RandomData(60)

def plot_ex1(data):
  fig, axes = plt.subplots()
  axes.scatter(data.x, data.y, c='b')
plot_ex1(data)</code></pre></div><p class="new">Although the <code>c</code> named parameter can be used to specify the fill color, it is 
better practice to use the <code>color</code> parameter -- as this is more common 
across the various chart types.  </p><div class="ide code-starter blink"><pre><code>def plot_ex2(data):
  fig, axes = plt.subplots()
  axes.scatter(data.x, data.y, color='blue')
plot_ex2(data)</code></pre></div><p class="new">When we get to using color maps, the <code>c</code> parameter is used as an index into the accomplying colormap.
You can also use the named parameters <code>facecolor</code> (or <code>facecolors</code>) 
and <code>edgecolor</code> (or <code>edgecolors</code>):</p><div class="ide code-starter blink"><pre><code>def plot_ex3(data):
  fig, axes = plt.subplots()
  axes.scatter(data.x, data.y, facecolor='g', edgecolor='r')
  # the plural is also available
  #axes.scatter(data.x, data.y, facecolors='g', edgecolors='r')
  
plot_ex3(data)</code></pre></div><p class="new">Matplotlib attempts to be uniform across different chart types (i.e. the same
 API). For example a bar chart can be created in the same way as the scatter 
plot (<code>data.n</code> is an array of integers (i.e. <code>range(0, len(data.x)</code>) ):</p><div class="ide code-starter blink"><pre><code>def plot_ex4(data):
  fig, axes = plt.subplots()
  axes.bar(data.n, data.y, color='b')
data4 = RandomData(4)
plot_ex4(data4)</code></pre></div><h3 id="more-colors-more-names">More Colors, More Names</h3><div class="bg-gray-200"><div class="float-right w-1/2"><a href="https://matplotlib.org/3.1.1/gallery/color/named_colors.html" target="_blank"><img alt="allColorNames.png" class="med ml-3 mr-3" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/color/html/allColorNames.png"/></a></div><p class="new">You can click on the image to the right to see all the different color 
names available. Matplotlib gives you access to the common 140 <a href="https://www.w3schools.com/Colors/colors_names.asp" target="_blank">web-based color names</a>.  </p><p class="new">The <a href="https://xkcd.com/color/rgb/" target="_blank">xkcd color names</a> are available by using
the preface 'xkcd:' with the color name (e.g 'xkcd:sky blue') </p><p class="new">The 10 default tableau color names can be referenced using the 'tab:' prefix.</p><p class="new">You can also reference Gray colors using float values (as strings) 
from 0 (black) to 1 (white) (e.g '0.25', '1.0') or with its name (both 'gray' and 'grey' are accepted spellings).</p></div><br/><h4 id="color-tuples">Color Tuples</h4><p class="new">Each color is actually represented by 4 numbers that represent the red, green,
blue, and alpha channels of a color.  Other color spaces (hsl, hsv , etc) are 
also available, but we are only going to discuss the default RGB color space.</p><blockquote><p class="new"><em><strong>Coder's Log:</strong></em>
  There are two major models for producing colors: additive and subtractive.
When working with light (i.e. computer displays), the primary colors (red
, green, blue) are mixed to produce all the other colors.  This is called the additive 'light' model. 
<br class="single"/>However, when you mix paint together (which uses cyan, magenta, yellow as
 pigment color primaries), it is called the subtractive pigment or paint model.
<br class="single"/>If you mix all the colors of light, you end up with white light. But if you mix 
all the colors of paint, you end up with black paint. 
With light, you are mixing wavelengths together, adding them up to some color. 
With paint, you are removing colors. For instance, red paint absorbs all 
wavelengths except for red. And if you have green paint, it will absorb all 
wavelengths except for green. So, mixing them together, you will absorb all wavelengths.</p></blockquote><p class="new">For the RGB colorspace, each number/channel (red, green, blue) is specified from 0 to 1:</p><pre><code>black_color  = (0,0,0)
blue_color   = (0,0,1)
yellow_color = (1,1,0)
white_color  = (1,1,1)</code></pre><p class="new">We will discuss the fourth alpha (or opacity) channel soon.  By default it is always 1.</p><h4 id="hex-colors">Hex Colors</h4><p class="new">You can also specify a color using hexadecimal (using <code>0</code> - <code>F</code>).  Each channel
 (Red, Green, Blue) are represented as two hexadecimal digits (base 16):</p><pre><code>black         = '#000000' 
mystery_color = '#00FFDD'</code></pre><p class="new">Here 00 is no color and FF (e.g. 256 in base 16). Anyplace where you can 
specify a colorname in matplotlib you can also use a hex string or color tuple.</p><h3 id="multiple-points-multiple-data">Multiple Points, Multiple Data</h3><p class="new">For some chart types you can pass in arrays of colors to be used for subsequent
data points.  The following example has 4 points, each colored differently (the 
keyword <code>s</code> controls the marker size of a scatter plot):</p><div class="ide code-starter blink"><pre><code>def plot_ex5(data):
  fig, axes = plt.subplots()
  axes.scatter(data.x, data.y, s=150, color=['g', 'r', 'b', 'w'], edgecolor='r')

plot_ex5(data4)</code></pre></div><p class="new">However, in most data heavy applications, it will be impractical to specify each color to be used
for each plot (imagine a scatter plot with over a thousand points). Instead, the color 
used will depend on some attribute of the data. Every application is different, 
but there are a few different ways to manage how to select colors based on the data.</p><h3 id="selecting-the-color">Selecting the color</h3><div class="ide code-starter blink"><pre><code>def plot_ex6(data):
  fig, axes = plt.subplots()
  markers = axes.bar(data.n, data.y, color='red')
  for marker, y in zip(markers, data.y): 
  if (y &gt; 0):
    marker.set(color='green', edgecolor='black', linewidth=1)

data10 = RandomData(10)
plot_ex6(data10)</code></pre></div><p class="new">A few notes about the above example:</p><ul><li>the color is based on the <code>y</code> attribute of the data.</li><li>when you plot in matplotlib, each plot method returns an 'artist' or set of
'artists' (usually) that can be used to make modifications.  A matplotlib
'artist' is simply an object or type that knows how to render or draw itself.</li><li>the function <code>zip</code> will be discussed soon, but it simply packages up multiple arrays
into a single array of tuples.
<br/></li></ul><h3 id="selecting-color-using-numpy-masks">Selecting Color Using Numpy Masks</h3><img alt="fillbetween.png" class="mb-2" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/color/html/fillbetween.png"/><p class="new">The following example uses the <code>fill_between</code> methods to fill the area between
lines.  This method is used to build stream graphs, area charts, etc:</p><div class="ide code-starter blink"><pre><code>def plot_ex7(data):
  fig, axes = plt.subplots()
  axes.fill_between(data.n, data.x, data.y, color='red')
  
plot_ex7(data10)</code></pre></div><p class="new">We can build on the previous example, but now use boolean masks to determine
which color to use (as we learned in INFO490, the <code>where</code> operator is used to
build array's of booleans):</p><div class="ide code-starter blink"><pre><code>def plot_ex8(data):
  fig, axes = plt.subplots()
  axes.fill_between(data.n, data.x, data.y, 
                    where=(data.x &gt; data.y), color='c', alpha=0.3, 
                    interpolate=True)
  axes.fill_between(data.n, data.x, data.y, 
                    where=(data.x &lt;= data.y), color='y', alpha=0.3,
                    interpolate=True)
plot_ex8(data10)</code></pre></div><p class="new">You can read about how interpolate works by consulting the 
matplotlib <a href="https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.pyplot.fill_between.html" target="_blank">documentation</a>.
You can always use Numpy masks in other charts as well.  In the following
 example the colors array can be passed as a 'color' to use:</p><pre><code>colors = np.where(x&lt;1, 'k', np.where(y&lt;5, 'b', 'r'))</code></pre><h3 id="cyclers">Cyclers</h3><p class="new">If your data adheres to a cyclical pattern (e.g. first the cars, then buses, then boats), 
you can create corresponding color cycles.  The Python library <code>itertools</code> has
many functions that help with iteration over different data sets.<br/>The function <code>next</code> is used to advance to the next color in the cycle.  We will use
the cycle function build an endless pattern of colors:</p><div class="ide code-starter blink"><pre><code>import itertools
def plot_ex9(data, cc):
  fig, axes = plt.subplots(figsize=(6,6))
  for i in data.n:
     axes.scatter(i, i, s=200, c=next(cc), edgecolor='black')
     
data = Data(40)
colors = itertools.cycle(["r", "b", "g", "yellow"])
plot_ex9(data, colors)</code></pre></div><p class="new">However, matplotlib has something called property cycles that we can also use.
Property cycles allow you to change different aspects of drawing when your
 data is organized or grouped on a specific attribute.</p><div class="ide code-starter blink"><pre><code>from cycler import cycler
def plot_ex10(data, cc):
  fig, axes = plt.subplots(figsize=(6,6))
  axes.set_prop_cycle(cc)
  
  for i in data.n:
     axes.scatter(i, i) 

cc = cycler(color=['c', 'm', 'y', 'k'])
data = RandomData(40)
plot_ex10(data,cc)</code></pre></div><p class="new">Matplotlib also provides a default color cycler as well.</p><div class="ide code-starter blink"><pre><code>def plot_ex11(data):
  fig, axes = plt.subplots(figsize=(6,6))
  for i in data.n:
      axes.scatter(i, i) 
  fig.show()
print(data.x, data.y)
plot_ex11(data)</code></pre></div><img alt="cycleColors.png" class="float-left m-2 w-1/3" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/color/html/cycleColors.png"/><div class="w-3/4"><p class="new">The image to the left is the default color cycle used by matplotlib.  This
is why if you call <code>plot</code> multiple times, each graph will have a different
 color.</p><p class="new">And just like the default colors, you can use abbreviations
to access the first 10 colors of the color cycle using '<code>C0</code>' .. '<code>C9</code>':</p></div><div class="ide code-starter blink"><pre><code>def plot_ex12(data):
  fig, axes = plt.subplots()
  axes.fill_between(data.n, data.x, data.y, 
                    where=(data.x &gt; data.y), color='C0', alpha=0.3, 
                    interpolate=True)
  axes.fill_between(data.n, data.x, data.y, 
                    where=(data.x &lt;= data.y), color='C1', alpha=0.3,
                    interpolate=True)
plot_ex12(data10)</code></pre></div><h3 id="markers-and-line-styles">Markers and Line Styles</h3><p class="new">Even though the main lesson is on using color, matplotlib allows you to
 change the marker and line style in plots. Markers define the shape to be used in scatter plots. The standard 
scatterplot (e.g. <code>scatter</code>) uses a circle to plot a data point. 
You can reference the marker type by using a single character (shown below):</p><div class="flex m-2"><div class="w-1/2"><img alt="marker1.png" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/color/html/marker1.png"/></div><div class="w-1/2"><img alt="marker2.png" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/color/html/marker2.png"/></div></div><p class="new">You can <a href="https://matplotlib.org/3.1.1/api/markers_api.html" target="_blank">read</a> the 
marker documentation for more information. The <a href="https://matplotlib.org/gallery/lines_bars_and_markers/line_styles_reference.html" target="_blank">line style</a>
defines the type of line to use to draw between two points in plots. The standard 
line plot (e.g. <code>plot</code>) uses a solid line to draw between two points.  </p><h3 id="marker-cycles">Marker Cycles</h3><p class="new">You can also use property cyclers to cycle over marker shapes:</p><div class="ide code-starter blink"><pre><code>def plot_ex13(data, cc):
  fig, axes = plt.subplots(figsize=(6,6))
  axes.set_prop_cycle(cc)
  
  for i in data.n:
     axes.plot(i, i)      # colors and markers
     # axes.scatter(i, i) # colors only

cc = cycler(color=['c', 'm', 'y', 'k'], marker=['x','o','d','s'])
data = RandomData(40)
plot_ex13(data,cc)</code></pre></div><p class="new">Notes:</p><ul><li>As of matplotlib 3.2, scatter plots will only use color cyclers</li></ul><h2 id="exercise-2">Exercise 2</h2><ol start="1"><li>Adjust the code from <code>plot_ex13</code> to the following to demonstrate
the default color cycler:</li></ol><pre><code>  # axes.set_prop_cycle(cc)
  for i in data.n:
     # axes.plot(i, i)  
     axes.scatter(i, i)</code></pre><p class="new">Run the code to confirm it's working. </p><p class="new">Now adjust the code to be the following:</p><pre><code>  # axes.set_prop_cycle(cc)
  for i in data.n:
     axes.plot(i, i)  
     # axes.scatter(i, i)</code></pre><p class="new">Run the code.  What happens?  Can you figure out the issue?</p><h1 class="section" id="section2">Opacity and Alpha</h1><img alt="alpha.png" class="border float-left mr-4" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/color/html/alpha.png"/><p class="new">Both opacity and alpha (channel) refer to how much of the background will show 
through when two objects overlap.  For most applications, the effect is to 
have a 'transparent' color to build layering effects.  By default, 
the matplotlib colors (e.g. blue, green, etc) have their alpha/opacity set 
to 1.0 (completely opaque -- nothing from the background will show through). </p><p class="new">You can create a color with an alpha channel using either hex notation (e.g.
<code>color = '#0000ff30'</code> or using a tuple <code>color = (0, 0, 1, 0.20)</code> ).</p><div class="ide code-starter blink"><pre><code>def plot_ex14(data):
  fig, axes = plt.subplots()
  color = '#0000ff30'  
  #color = (0, 0, 1, 0.20)
  axes.scatter(data.x, data.y, color=color)
  
plot_ex14(RandomData(1000))</code></pre></div><h1 class="section" id="section3">Color Palette</h1><img alt="palettes.png" class="border float-left mr-2" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/color/html/palettes.png"/><p class="new">A good color palette (a selection of colors that work well together) can add the 
professional touch to any graphic.  There are many sources for helping put
 together colors for different types of projects.  A good reference to color
 pallets can be found <a href="https://www.smashingmagazine.com/2010/02/color-theory-for-designer-part-3-creating-your-own-color-palettes/" target="_blank">here</a>.</p><p class="new">Learning to create a usuable color palette requires a good understanding of
 which colors work together.  It's usually a matter of expermentation and
 experirence.</p><p class="new"><a href="https://colorbrewer2.org/" target="_blank">ColorBrewer</a> is a great tool to help find colors that work well together for categorical data.  Sometimes 
you can use an image to grab the dominent colors to put a pallette together
 around a theme. Both <a href="https://www.canva.com/colors/color-palette-generator/" target="_blank">Canva</a> 
and <a href="https://lokeshdhakar.com/projects/color-thief/" target="_blank">Color Theif</a> are good tools.</p><p class="new">A future lesson will discuss matplotlib's colormaps which is another way to work
with professionally developed color palettes that allow for easy mapping
 between values and colors.</p><br/><h1 class="section" id="section4">Lesson Assignment</h1><p class="new">Be sure you have run all the example code and understand what's being demonstrated. 
You will use a colormap to build a simple bar chart for the categorical data we used to demonstrate
 scatter plots. 
When you are done, your graph should look like the following:
<img alt="plot_pets.png" class="small mt-4" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/color/html/plot_pets.png"/></p><p class="new">Note that you can<strong>not</strong> use Pandas.</p><h2 id="part-1-color-selection-">Part 1 Color Selection </h2><p class="new">There are four possible answers for the pets attribute in the dataset: fish, dog, cat, n/a
Each of these answers will be assigned a color.</p><p class="new">Create a custom colormap using colorbrewer.  Be sure to select the
 qualitative color scheme and use the 4-class Accent colors:</p><img alt="hex.png" class="float-left img" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/color/html/hex.png"/><img alt="rgb.png" class="img" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/color/html/rgb.png"/><p class="new">The function <code>build_colormap</code> returns a simple dictionary</p><div class="ide code-starter blink"><pre><code>def build_colormap():
   # use colorbrewer to fill in the mapping between pet name and color
   return {'dog': 'green'}</code></pre></div><h2 id="part-2-scatter-plots-using-numpy-masks-">Part 2: Scatter Plots using Numpy Masks </h2><p class="new">Create a function named <code>plot_pets</code> that creates the following graph:
<img alt="plot_pets2.png" class="img" src="https://github.com/NSF-EC/INFO490Assets/raw/master/src/dmap/lessons/color/html/plot_pets2.png"/></p><p class="new">Notes:</p><p class="new">‚Ä¢ Use numpy where to create a mask to do simple subselects of the data</p><pre><code>mask = np.where( ... )
dx = data.x[mask]</code></pre><p class="new">‚Ä¢ You can enumerate over the unique set of pet names (use data.pet)</p><p class="new">‚Ä¢ Be sure to return the figure </p><div class="ide code-starter blink"><pre><code>def plot_pets(data, cmap):
  pass</code></pre></div><br/><p class="new">Once that is done, you can test it via</p><pre><code>cmap = build_colormap() 
fig = plot_pets(RandomData(100), cmap)</code></pre><h1>Test and Submit</h1><p>Once done you can download your code (via <code>ide.tester</code>) and upload that file to Gradescope:</p><div class=""><pre><code><strong># to test your code (either works)</strong><br/>print(ide.tester.test_notebook())<br/>print(ide.tester.test_notebook(verbose=True))<br/><strong># to prepare and download your code</strong><br/>ide.tester.download_solution()</code></pre></div><div class="lesson-footer flex bg-gray-200 justify-center"><div class="displaycard border-t border-gray-400 max-w-2xl rounded overflow-hidden shadow-lg"><div class="px-6 py-4"><div class="text-center font-bold text-xl">Color</div><p class="text-center text-gray-800 text-xl">In Living Color</p><div class="text-center mt-6 text-xl"><i aria-hidden="true" class="fas fa-tags"></i> any questions on Piazza with <span class="font-bold">color</span></div><div class="text-gray-700 text-base">¬†</div><div class="text-gray-700 text-base">References and Additional Readings</div><div class="text-sm p-2 border border-solid border-gray-500 bg-gray-300"> <div class="text-gray-700 px-4 m-2">‚Ä¢ https://matplotlib.org/3.1.0/gallery/index.html</div></div><div class="flex mt-4 border-t border-solid border-gray-500 justify-around bg-gray-200"><div class="text-gray-700 text-center px-4 m-2 text-sm">D.MÔπ†üêç</div><div class="text-gray-700 text-center px-4 m-2 text-sm"><strong>Version:</strong> <!-- -->Fall 2020<!-- --> <!-- -->08.20.20</div></div><div class="text-gray-700 text-center text-tiny">All Rights Reserved</div><div class="text-gray-700 text-center text-tiny">Do not distribute this notebook outside of the class</div></div></div></div><div>¬†</div><div class="ide code-starter blink"><pre><code># print(ide.tester.test_notebook()) 
# print(ide.tester.test_notebook(verbose=True)) 

ide.tester.download_solution()</code></pre></div></div></div></body></html>